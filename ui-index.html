<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>YouTube Finder</title>
  <style>
    :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
    body{margin:0;padding:14px;background:#fff}
    .card{border:1px solid rgba(0,0,0,.12);border-radius:14px;padding:14px;max-width:900px;margin:0 auto}
    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    button{padding:10px 12px;border-radius:12px;border:1px solid rgba(0,0,0,.18);background:#fff;cursor:pointer}
    button.primary{border-color:rgba(0,0,0,.3)}
    small{opacity:.7}
    .muted{opacity:.7}
    .sp{height:10px}
    .pill{display:inline-block;border:1px solid rgba(0,0,0,.12);border-radius:999px;padding:6px 10px;font-size:12px}
  </style>
</head>
<body>
  <div class="card">
    <h2 style="margin:0 0 6px">YouTube Finder</h2>
    <div class="muted">é¸æ“‡åŠŸèƒ½é é¢</div>

    <div class="sp"></div>

    <div class="row">
      <button id="goLatest" class="primary">ğŸ“º æœ€æ–°å½±ç‰‡ï¼ˆListï¼‰</button>
      <button id="goSearch">ğŸ” æœå°‹å½±ç‰‡ï¼ˆSearchï¼‰</button>
    </div>

    <div class="sp"></div>

    <div class="row">
      <span class="pill">Tipsï¼šSearch æœƒå…ˆæŠ“ 500 æ¢ç´¢å¼•å†æœ¬åœ°éæ¿¾</span>
      <span class="pill">è‹¥ç„¡çµæœï¼Œå…ˆè©¦ /debug/worker</span>
    </div>

    <div class="sp"></div>
    <small id="status">ç­‰å¾…æ“ä½œâ€¦</small>
  </div>

<script>
async function callTool(n,a){ return window.openai.callTool(n,a); }

document.getElementById("goLatest").onclick = async () => {
  document.getElementById("status").textContent = "è¼‰å…¥æœ€æ–°å½±ç‰‡â€¦";
  await callTool("list_videos", { limit: 30 }); // ç”±å·¥å…· outputTemplate è½‰å» videos page render
};

document.getElementById("goSearch").onclick = async () => {
  document.getElementById("status").textContent = "é–‹å•Ÿæœå°‹é â€¦";
  // æœ€ç©©åšæ³•ï¼šcall ä¸€å€‹è¼•é‡å·¥å…·å»æ¸²æŸ“ search pageï¼ˆæˆ–ä½ äº¦å¯ç›´æ¥ç”¨ list_videos è½‰é å†ç”±é é¢æä¾›æœå°‹ï¼‰
  await callTool("open_search_page", {});
};

(function(){
  // è‹¥æœ‰ toolOutputï¼ˆä¾‹å¦‚ç”± open_search_page æˆ–å…¶ä»–å·¥å…·å¸¶å…¥ï¼‰ï¼Œå¯ä»¥åšæç¤º
  if (window.openai?.toolOutput) {
    document.getElementById("status").textContent = "å·²æ”¶åˆ°å·¥å…·è¼¸å‡ºã€‚";
  }
})();
</script>
</body>
</html>
